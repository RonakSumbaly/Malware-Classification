import glob,os
from config import conf
import subprocess
from assemblyFeatures import countInstructions
from combineCSV import combineCSV

env = ['train', 'test']
if __name__ == "__main__":
    for field in env:
        featureVectorLoc = conf[field]['feature_vector']
        csvDirectory = os.path.dirname(featureVectorLoc)
        for name in glob.glob(csvDirectory + "/" + field + "Feature*.csv"):
            os.remove(name)

        countInstructions(field)
        subprocess.call("python linesOfCode.py "+field, shell=True)
        combineCSV(field)

    subprocess.call("python classifications.py ", shell=True)